<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Search Results</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<header>
    <h1>Search Results</h1>
    <a class="back" th:href="@{/}">‚Üê Start a new search</a>
</header>
<main>
    <section class="card" th:if="${noResults}">
        <p>No public domain books were found for <strong th:text="${searchedTitle}"></strong>. Try a different title.</p>
    </section>
    <section class="results" th:if="${results}">
        <article class="result" th:each="book : ${results}">
            <div>
                <h2 th:text="${book.title()}"></h2>
                <p class="muted" th:text="${book.author()}"></p>
                <p th:if="${book.downloadUrl() == null}">Download URL not provided by source. Translation may fail.</p>
            </div>
            <form th:action="@{/translate}" method="post">
                <input type="hidden" name="bookId" th:value="${book.id()}">
                <input type="hidden" name="downloadUrl" th:value="${book.downloadUrl()}">
                <input type="hidden" name="title" th:value="${book.title()}">
                <input type="hidden" name="segments" th:value="${segments}">
                <input type="hidden" name="segmentationMode" th:value="${segmentationMode}">
                <button type="submit" class="primary">Translate selected content</button>
            </form>
        </article>
    </section>
</main>
</body>
</html>
